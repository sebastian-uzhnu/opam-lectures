# Тема 13. Наслідування і поліморфізм (C#)

## Додаткові приклади для обговорення зі студентами

------------------------------------------------------------------------

## 1. Платіжна система (онлайн-магазин)

``` csharp
abstract class PaymentMethod
{
    public abstract void Pay(double amount);
}

class CreditCardPayment : PaymentMethod
{
    public override void Pay(double amount)
    {
        Console.WriteLine($"Оплата картою: {amount} грн");
    }
}

class PayPalPayment : PaymentMethod
{
    public override void Pay(double amount)
    {
        Console.WriteLine($"Оплата через PayPal: {amount} грн");
    }
}

class CryptoPayment : PaymentMethod
{
    public override void Pay(double amount)
    {
        Console.WriteLine($"Оплата криптовалютою: {amount} грн");
    }
}
```

Питання: - Що зміниться, якщо додати новий тип оплати? - Чи потрібно
змінювати існуючі класи?

------------------------------------------------------------------------

## 2. Гра: персонажі

``` csharp
abstract class Character
{
    public string Name;
    public abstract void Attack();
}

class Warrior : Character
{
    public override void Attack() => Console.WriteLine("Удар мечем");
}

class Mage : Character
{
    public override void Attack() => Console.WriteLine("Вогняна куля");
}

class Archer : Character
{
    public override void Attack() => Console.WriteLine("Постріл з лука");
}
```

Питання: - Навіщо використовувати базовий тип Character? - Як додати
нового персонажа?

------------------------------------------------------------------------

## 3. Повідомлення

``` csharp
abstract class MessageSender
{
    public abstract void Send(string message);
}

class EmailSender : MessageSender
{
    public override void Send(string message)
    {
        Console.WriteLine($"Email: {message}");
    }
}

class SmsSender : MessageSender
{
    public override void Send(string message)
    {
        Console.WriteLine($"SMS: {message}");
    }
}
```

------------------------------------------------------------------------

## 4. Транспорт

``` csharp
abstract class Transport
{
    public abstract double GetFuelConsumption();
}

class Car : Transport
{
    public override double GetFuelConsumption() => 8.5;
}

class Bus : Transport
{
    public override double GetFuelConsumption() => 25;
}

class ElectricScooter : Transport
{
    public override double GetFuelConsumption() => 0;
}
```

------------------------------------------------------------------------

## 5. Логування

``` csharp
abstract class Logger
{
    public abstract void Log(string text);
}

class ConsoleLogger : Logger
{
    public override void Log(string text)
    {
        Console.WriteLine(text);
    }
}

class FileLogger : Logger
{
    public override void Log(string text)
    {
        Console.WriteLine("Запис у файл: " + text);
    }
}
```

------------------------------------------------------------------------

## 6. Статичний поліморфізм (перевантаження)

``` csharp
class Printer
{
    public void Print(string text)
    {
        Console.WriteLine(text);
    }

    public void Print(int number)
    {
        Console.WriteLine(number);
    }

    public void Print(string text, int count)
    {
        for(int i=0;i<count;i++)
            Console.WriteLine(text);
    }
}
```

------------------------------------------------------------------------

## 7. Порівняння дизайну

Погано:

``` csharp
if(type=="car") {}
else if(type=="bus") {}
```

Добре:

``` csharp
Transport t = GetTransport();
t.GetFuelConsumption();
```

------------------------------------------------------------------------

## 8. Завдання для студентів

Створити власну ієрархію класів: - Банківські рахунки - Соціальні
мережі - Музичні інструменти - Файли

Визначити: - Базовий клас - Похідні класи - Virtual-методи

------------------------------------------------------------------------

## Висновок

-   Наслідування = спільні характеристики\
-   Поліморфізм = різна поведінка\
-   Код стає гнучким та масштабованим


---

# Контрольні запитання

1. Що таке наслідування?
2. Чим відрізняється базовий клас від похідного?
3. Для чого використовується ключове слово virtual?
4. Коли застосовується override?
5. Що таке поліморфізм?
6. Чим відрізняється динамічний та статичний поліморфізм?
7. Наведіть приклад перевантаження методу.
8. Що означає ключове слово sealed?
9. Чому поліморфізм зменшує кількість умовних операторів?
10. У яких випадках краще використовувати абстрактний клас?

---

# Тестові запитання

1. Яке ключове слово дозволяє перевизначення методу?  
A) static  
B) sealed  
C) virtual  
D) private  

2. Яке слово використовується в похідному класі?  
A) new  
B) override  
C) base  
D) this  

3. Який тип поліморфізму використовує перевантаження методів?  
A) Динамічний  
B) Інтерфейсний  
C) Статичний  
D) Абстрактний  

4. Чи можна створити об'єкт абстрактного класу?  
A) Так  
B) Ні  

5. Який модифікатор доступу дозволяє доступ у похідних класах?  
A) private  
B) protected  
C) sealed  
D) const  

Правильні відповіді:  
1-C, 2-B, 3-C, 4-B, 5-B

---

# Практичні завдання

## Завдання 1
Створити базовий клас Animal з методом Speak().  
Створити класи Dog, Cat, Cow з перевизначенням методу.

## Завдання 2
Створити базовий клас Transport.  
Реалізувати класи Car, Bus, Bicycle.  
Метод GetSpeed() повертає швидкість.

## Завдання 3
Створити систему платежів з класами:
PaymentMethod, CardPayment, CashPayment, CryptoPayment.

## Завдання 4 (ускладнене)
Створити абстрактний клас Employee.  
Реалізувати класи Manager, Developer, Intern.  
Розрахувати зарплату поліморфно.

## Завдання 5 (творче)
Придумати власну ієрархію з мінімум 1 базовим та 3 похідними класами.

---

# Критерії оцінювання

- Правильне використання virtual та override  
- Використання базового типу для масивів/списків  
- Відсутність зайвих if-else  
- Читабельний код  

---

# Підсумок теми

Наслідування дозволяє повторно використовувати код.  
Поліморфізм забезпечує різну поведінку об’єктів через один інтерфейс.  
Разом вони формують основу гнучкої архітектури програм.
