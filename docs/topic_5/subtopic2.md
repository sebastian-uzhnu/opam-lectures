# Конвенції комітів у Git (Commit Conventions)

У командній розробці дуже важливо, щоб історія комітів була зрозумілою, передбачуваною та легкою для навігації. Саме для
цього існують **конвенції комітів** — стандартизовані правила оформлення повідомлень, які роблять історію проєкту
чистою, структурованою та зрозумілою навіть через роки.

Однією з найпопулярніших конвенцій є **Conventional Commits**, яка базується на простому, але дуже потужному підході —
додаванні **префіксів** до повідомлення коміту.

---

## Навіщо потрібна конвенція комітів

- **Зрозуміла історія:** легко побачити, які зміни відбулися (нова функція, виправлення, документація тощо).
- **Автоматизація:** інструменти CI/CD можуть автоматично створювати changelog, версію релізу тощо.
- **Стандартизація:** вся команда пише коміти в одному стилі.
- **Швидкий аналіз:** можна фільтрувати коміти за типами (`fix`, `feat`, `docs` тощо).

---

## Формат Conventional Commits

Формат повідомлення коміту має такий вигляд:

```bash
<type>(<scope>): <опис змін>
```

Де:

- `type` — тип зміни (наприклад, `feat`, `fix`, `docs` тощо).
- `scope` *(опціонально)* — область або компонент, якого стосуються зміни.
- `description` — короткий опис того, що зроблено.

Приклади:

```bash
feat(auth): додано валідацію токена
fix(ui): виправлено падіння при відкритті модалки
docs(readme): оновлено приклади використання
```

---

## Основні типи комітів

| Тип          | Призначення                                                                 |
|--------------|-----------------------------------------------------------------------------|
| **feat**     | Додано нову функціональність                                                |
| **fix**      | Виправлено помилку                                                          |
| **docs**     | Оновлено документацію                                                       |
| **style**    | Зміни у форматуванні (без впливу на логіку)                                 |
| **refactor** | Переписування коду без зміни поведінки                                      |
| **perf**     | Оптимізація продуктивності                                                  |
| **test**     | Додано або змінено тести                                                    |
| **build**    | Зміни в процесі збірки або залежностях                                      |
| **ci**       | Зміни у CI/CD конфігурації                                                  |
| **chore**    | Допоміжні зміни, що не впливають на код (наприклад, оновлення `.gitignore`) |
| **revert**   | Відкат попереднього коміту                                                  |

---

## Додаткові правила

### 1. Опис має бути коротким і зрозумілим

Рекомендується не більше **50 символів** для заголовку.

❌ Погано:

```bash
fix: виправлено деякі помилки
```

✅ Добре:

```bash
fix(login): виправлено помилку аутентифікації при невірному паролі
```

---

### 2. Використовуйте імперативний стиль

> Імперативний стиль — це стиль написання повідомлень (наприклад, комітів у Git), у якому дієслово виражене у формі
> наказу або вказівки до дії. Простими словами, це коли ти говориш Git-у, що саме треба зробити, а не описуєш, що вже
> зроблено. Опис повинен звучати як команда, а не як констатація факту.

❌ Погано:

```bash
feat(api): додавання нового ендпоінта
```

✅ Добре:

```bash
feat(api): додати новий ендпоінт для отримання списку користувачів
```

---

### 3. Використовуйте `BREAKING CHANGE` для критичних змін

Якщо зміна не сумісна з попередніми версіями, варто явно це вказати:

```bash
feat(auth): змінено механізм авторизації

BREAKING CHANGE: тепер потрібен токен OAuth2 замість basic auth
```

---

## Приклади комітів для різних ситуацій

- **Нова функція:**

```bash
feat(payment): додати підтримку оплати через PayPal
```

- **Виправлення:**

```bash
fix(validation): виправити некоректну перевірку email
```

- **Рефакторинг:**

```bash
refactor(auth): спростити логіку перевірки токена

```

- **Оновлення документації:**

```bash
docs(README): додати інструкцію з налаштування проєкту
```

- **Оптимізація:**

```bash
perf(api): зменшити час відповіді ендпоінта користувачів
```

- **Оновлення CI:**

```bash
ci(github-actions): додати новий workflow для автоматичних тестів
```

---

## Коміт-скоупи (Scopes)

`scope` допомагає краще розуміти, який саме модуль або компонент було змінено. Наприклад:

```bash
feat(ui): додати компонент Sidebar
fix(db): виправити помилку у міграціях
chore(deps): оновити залежності до останніх версій
```

Це особливо корисно у великих проєктах із багатьма модулями, де важливо розуміти контекст змін.

---

## Використання Conventional Commits з інструментами

Перевага стандарту в тому, що багато інструментів можуть з ним працювати:

- **semantic-release** — автоматичне визначення версій та релізів.
- **commitlint** — перевірка правильності комітів.
- **standard-version** — автоматична генерація changelog.

Це дозволяє перетворити прості коміти на потужний інструмент управління релізами та документацією.

---

## Короткі поради щодо хорошої культури комітів

- Один коміт — одна логічна зміна.
- Не комітьте скомпільовані файли або тимчасові дані.
- Не залишайте в комітах фраз типу "fixed stuff" або "updates".
- Пишіть англійською — це загальноприйнятий стандарт.
- Перевіряйте коміти перед push.

---

## Висновок

Конвенції комітів — це не просто «формальність». Це інструмент, який значно підвищує якість командної роботи, дозволяє
автоматизувати релізи, формувати changelog без зусиль та робить історію змін більш структурованою і професійною. Навіть
у невеликих проєктах варто дотримуватися стандарту Conventional Commits — це звичка, яка швидко приносить великі
результати.
