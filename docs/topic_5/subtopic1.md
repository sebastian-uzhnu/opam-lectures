# Контроль версій та Git

У сучасній розробці програмного забезпечення майже неможливо працювати над проєктами без системи контролю версій. Вона
дозволяє зберігати історію змін, відстежувати розвиток проєкту, працювати спільно у команді, розділяти роботу над
функціоналом і безпечно експериментувати. Найпопулярнішою системою контролю версій є Git — потужний, гнучкий та
розподілений інструмент, який став стандартом у сфері розробки програмного забезпечення.

---

## Поняття системи контролю версій

Система контролю версій (VCS — Version Control System) — це інструмент для зберігання та управління змінами у проєкті.
Вона фіксує історію змін у файлах і дозволяє:

- Відстежувати, хто і коли вніс зміни.
- Порівнювати різні версії файлів.
- Повернутися до попередніх станів коду.
- Працювати кільком розробникам одночасно.
- Створювати експериментальні гілки без шкоди для основного коду.

---

## Що таке Git і як він працює

Git — це розподілена система контролю версій, створена Лінусом Торвальдсом у 2005 році для розробки ядра Linux. Його
головна ідея полягає у тому, що кожен розробник має повну копію всього репозиторію разом із історією проєкту.

Основні особливості Git:

- Розподілена архітектура: кожен клон містить повну історію.
- Швидкість: більшість операцій виконується локально.
- Гілки: легке створення і злиття (branch/merge).
- Надійність: дані зберігаються у вигляді контрольних сум (SHA-1/SHA-256).
- Історія: незмінна і легко відтворювана.

Структура проєкту Git складається з трьох зон:

1. Working Directory – поточні файли.
2. Staging Area (індекс) – файли, підготовлені до коміту.
3. Repository (.git) – історія проєкту (коміти, гілки, теги).

---

## Репозиторій (Repository)

### Що таке репозиторій

Репозиторій — це головна сутність у Git, яка містить увесь проєкт: файли, історію їхніх змін, коміти, гілки, теги та
метадані. Простіше кажучи, це «база даних» усіх змін вашого проєкту.

Репозиторій може існувати у двох формах:

- Локальний репозиторій — це копія проєкту на вашому комп’ютері, з якою ви працюєте напряму. Усі коміти, гілки та
  історія зберігаються у папці `.git`.
- Віддалений репозиторій — це копія проєкту на сервері або платформі (GitHub, GitLab, Bitbucket), яка використовується
  для спільної роботи, обміну змінами та резервного збереження коду.

Коли ви ініціалізуєте репозиторій, Git створює приховану папку `.git`, де зберігає:

- історію комітів
- інформацію про гілки
- посилання на віддалені репозиторії
- конфігураційні файли

Репозиторій дозволяє команді:

- працювати над одними й тими самими файлами одночасно
- відстежувати кожну зміну у проєкті
- повертатися до попередніх версій коду
- інтегрувати зміни з різних гілок

## Коміт (Commit)

### Що таке коміт

Коміт — це «знімок» (snapshot) вашого проєкту у певний момент часу. Він фіксує зміни, які були внесені до файлів, та
додає їх до історії репозиторію. Кожен коміт має унікальний ідентифікатор (хеш SHA-1 або SHA-256), автора, дату
створення та опис змін.

Коміт складається з трьох важливих частин:

1. Зміни у файлах — які саме файли були змінені, додані чи видалені.
2. Метадані — хто зробив коміт, коли, і який коментар додав.
3. Посилання на батьківський коміт — зв’язок з попереднім станом проєкту.

Послідовність комітів створює історію розвитку проєкту.  
Коміти дозволяють:

- повернутися до попередньої версії
- зрозуміти, коли і чому відбулися зміни
- аналізувати помилки та регресії
- документувати процес розробки

## Гілка (Branch)

### Що таке гілка

Гілка — це рухома вказівка (pointer) на певний коміт в історії проєкту. Вона дозволяє ізолювати зміни від основної лінії
розробки.  
Іншими словами, гілка — це «паралельна реальність» вашого проєкту, у якій ви можете вносити зміни, не впливаючи на
основну робочу версію.

Основна гілка зазвичай називається `main` або `master`. З неї створюють інші гілки для:

- нових функцій
- виправлення помилок
- експериментів

Коли робота завершена, гілку об’єднують (merge) з основною. Це дозволяє легко керувати розвитком проєкту, не створюючи
конфліктів між різними частинами роботи.

## Як репозиторій, коміт і гілка взаємодіють

Ці три поняття працюють разом як основа всієї архітектури Git:

1. Репозиторій — це контейнер для всіх даних: історії, комітів, гілок.
2. Коміт — це знімок історії, який додається до репозиторію.
3. Гілка — це шлях розвитку комітів. Вона дозволяє створювати альтернативні сценарії розвитку проєкту.

Уявіть, що репозиторій — це «історія книги», коміти — це «сторінки», а гілки — це «альтернативні сюжетні лінії».

---

## Приклади типової роботи

Зазвичай робота з Git виглядає так:

1. Створюєте новий репозиторій.
2. Створюєте нову гілку для певної фічі.
3. Робите зміни та створюєте коміти.
4. Зливаєте гілку в основну (`main`) після завершення роботи.

---

## Основні команди Git

| Команда                        | Призначення                                |
|--------------------------------|--------------------------------------------|
| `git init`                     | Створює новий репозиторій у поточній папці |
| `git clone <url>`              | Клонує віддалений репозиторій              |
| `git status`                   | Перевіряє статус файлів                    |
| `git add <file>` / `git add .` | Додає файл(и) до індексу                   |
| `git commit -m "повідомлення"` | Створює коміт                              |
| `git log`                      | Виводить історію комітів                   |
| `git branch`                   | Переглядає або створює гілки               |
| `git checkout <branch>`        | Перемикається на гілку                     |
| `git merge <branch>`           | Об'єднує гілки                             |
| `git pull`                     | Завантажує зміни з віддаленого репозиторію |
| `git push`                     | Надсилає зміни до віддаленого репозиторію  |

---

## Git Config — конфігурація користувача

Git зберігає налаштування у спеціальному файлі `.gitconfig`. Цей файл може існувати на кількох рівнях:

- Системний (--system) — для всіх користувачів (наприклад, `/etc/gitconfig`)
- Глобальний (--global) — для поточного користувача (`~/.gitconfig`)
- Локальний (--local) — для конкретного проєкту (`.git/config`)

Перевірити конфігурацію:

```bash
git config --list
```

### Основні команди конфігурації:

```bash
git config --global user.name "Your Name"
git config --global user.email "your@email.com"
git config --global core.editor "code --wait"
git config --global init.defaultBranch main
```

Щоб задати конфігурацію тільки для поточного репозиторію (локально):

```bash
git config --local user.name "Project Name"
git config --local user.email "project@mail.com"
```

### Очистка або видалення налаштувань:

```bash
git config --global --unset user.name
git config --global --unset user.email
```

Або вручну відредагувати файл:

```bash
git config --global --edit
```

---

## Що таке SSH і навіщо він потрібен

**SSH (Secure Shell)** — це криптографічний мережевий протокол, який забезпечує безпечне з’єднання між вашим комп’ютером
і віддаленим сервером. Завдяки SSH можна виконувати команди, передавати файли або підключатися до сервісів (наприклад,
GitHub) без необхідності вводити логін і пароль кожного разу.

### Основні цілі використання SSH:

- **Безпечна автентифікація:** ви підтверджуєте свою особу за допомогою ключа, а не пароля.
- **Шифрування з’єднання:** усі передані дані шифруються.
- **Зручність:** після налаштування ключів більше не потрібно вводити логін/пароль при кожному push або pull.
- **Автоматизація:** SSH дозволяє легко підключатися до серверів через скрипти або CI/CD процеси.

У контексті Git SSH використовується для безпечного підключення до віддалених репозиторіїв (наприклад, GitHub або
GitLab), що дозволяє працювати з ними так само зручно, як з локальними, але при цьому захищено.

---

## Використання різних акаунтів Git (наприклад, робочого та особистого)

Часто розробники працюють із кількома обліковками GitHub — наприклад, особистою та корпоративною. Це можна налаштувати
двома способами:

### 1. Через локальну конфігурацію

```bash
git config user.name "Work Name"
git config user.email "work@mail.com"
```

### 2. Через SSH і `.ssh/config`

Створюємо окремі SSH-ключі для кожного акаунта:

```bash
ssh-keygen -t ed25519 -C "work@mail.com" -f ~/.ssh/id_ed25519_work
ssh-keygen -t ed25519 -C "personal@mail.com" -f ~/.ssh/id_ed25519_personal
```

Додаємо їх у `~/.ssh/config`:

```bash
Host github-work
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519_work

Host github-personal
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519_personal
```

Тепер можна клонувати репозиторій так:

```bash
git clone git@github-work:company/repo.git
git clone git@github-personal:username/repo.git

```

---

## SSH Keys у Git

SSH-ключі використовуються для безпечного доступу до віддалених репозиторіїв без пароля.

### Створення SSH-ключа:

```bash
ssh-keygen -t ed25519 -C "your@email.com"
```

Після цього з’являться два файли:

- `~/.ssh/id_ed25519` — приватний ключ (нікому не показувати!)
- `~/.ssh/id_ed25519.pub` — публічний ключ (його додаємо у GitHub)

### Додавання ключа до ssh-agent:

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
```

### Перевірка підключення:

```bash
ssh -T git@github.com
```

---

## Використання GitHub

GitHub — це найпопулярніша хостинг-платформа для Git-репозиторіїв. Вона надає зручний веб-інтерфейс, інструменти для
командної роботи та інтеграцію з CI/CD.

Основні команди для підключення:

```bash
git remote add origin git@github.com:username/repo.git
git push -u origin main
```

---

## Інтеграція Git у Visual Studio

Visual Studio має вбудовані інструменти для Git:

- Ініціалізація та клонування репозиторіїв.
- Коміти, push/pull, merge.
- Перегляд історії та порівняння змін.
- Підтримка GitHub прямо в IDE.

---

## Приклади командної роботи з Git

Типовий сценарій командної роботи:

1. Клонування репозиторію:

```bash
git clone git@github.com:company/project.git
```

2. Створення гілки:

```bash
git checkout -b feature/login
```

3. Розробка і коміт:

```bash
git add .
git commit -m "Add login form"
```

4. Надсилання змін:

```bash
git push origin feature/login
```

5. Створення Pull Request на GitHub.

## Хороші практики для назви комітів

- Один коміт = одна логічна зміна.
- Повідомлення має бути коротким, інформативним:
    - ✅ Fix bug in authentication flow
    - ✅ Add email validation to registration

---

## Поради та найкращі практики роботи з Git

- Комітіть часто, але логічно.
- Створюйте окремі гілки для кожної фічі.
- Регулярно оновлюйте локальну гілку (git pull --rebase).
- Використовуйте `.gitignore`, щоб не відстежувати непотрібні файли.
- Не зберігайте паролі чи ключі в репозиторії.
- Перевіряйте коміти перед push.

---

## Висновок

Git — це не просто інструмент для зберігання коду, а серце сучасного процесу розробки. Він забезпечує гнучкість,
безпеку, командну роботу та контроль над кожним аспектом проєкту. Розуміння таких аспектів, як конфігурація користувача,
робота з кількома акаунтами, SSH-ключами та культура комітів, робить вас не просто користувачем Git, а професійним
розробником, який розуміє, як керувати кодом ефективно та безпечно.

