---
sidebar_label: Ієрархія класів 
---

# Ієрархія класів для типів даних і операція new.

### Ієрархія класів типів даних у C#

У мові C# всі типи даних, навіть примітивні (такі як `int`, `char`, `bool`), є частиною **ієрархії класів**. Основою
цієї ієрархії є клас `System.Object`, від якого наслідуються всі інші типи. Це означає, що будь-який тип даних у C# є
похідним від класу `Object` і успадковує від нього певний набір методів.

Усі типи в C# поділяються на:

1. **Примітивні типи** (значимі типи, *value types*)
2. **Посилальні типи** (референтні типи, *reference types*)

### 1. **Примітивні типи** (*Value Types*)

Ці типи зберігають свої значення безпосередньо в пам'яті. Вони включають прості типи, такі як:

- `int` (32-бітове ціле число),
- `float` (32-бітове число з плаваючою точкою),
- `bool` (логічний тип),
- `struct` (структури),
- `enum` (перелічувані типи).

Усі ці типи є похідними від базового класу `System.ValueType`, який у свою чергу наслідується від `System.Object`.

### 2. **Посилальні типи** (*Reference Types*)

Посилальні типи містять посилання на область пам'яті, де зберігається фактичне значення. До посилальних типів
відносяться:

- **Класи** (`class`),
- **Масиви** (`array`),
- **Інтерфейси** (`interface`),
- **Делегати** (`delegate`).

Посилальні типи також є підтипами класу `System.Object`. Оскільки вони зберігаються у купі (*heap*), для них
використовується механізм **автоматичного управління пам'яттю** (*Garbage Collection*).

### Ієрархія класів типів даних:

```c
System.Object
   ↳ System.ValueType
      ↳ Примітивні типи (int, float, bool, struct, enum)
   ↳ Складні типи (class, array, string, delegate, interface)
```

### Основні методи класу `Object`

Усі типи в C# наслідують методи класу `Object`, які можуть бути викликані для будь-якої змінної:

- `ToString()` — перетворює об'єкт на рядок.
- `Equals()` — порівнює два об'єкти на рівність.
- `GetHashCode()` — повертає хеш-код об'єкта.
- `GetType()` — повертає тип об'єкта.

### Операція `new` у C#

Для створення об'єктів посилальних типів у C# використовується ключове слово `new`. Воно виділяє пам'ять для об'єкта у
купі і повертає посилання на цей об'єкт.

### Приклад створення об'єкта класу за допомого new:

```csharp
Car myCar = new Car();
```

У цьому прикладі new Car() створює новий об'єкт типу Car у пам'яті і повертає посилання на нього, яке зберігається у
змінній myCar.

Для примітивних типів (наприклад, int, bool) використання new необов'язкове, оскільки для них не потрібно виділяти
пам'ять динамічно. Проте, структуровані типи (наприклад, struct) можуть бути ініціалізовані за допомогою new:

```csharp
Point myPoint = new Point(); // Створення об'єкта структури
```

Створення масивів за допомогою new:

```csharp
int[] numbers = new int[5]; // Масив з 5 елементів типу int
```

Операція new для ініціалізації типів даних

Операція new також використовується для ініціалізації складних типів, таких як масиви, делегати, класи, структури,
анонімні типи та інші. Використання new для створення об'єктів дає змогу управляти об'єктами у купі та дозволяє
автоматично очистити їх за допомогою Garbage Collection, коли вони більше не потрібні.

Приклад створення анонімного типу:

```csharp
var person = new { Name = "John", Age = 30 };
```

### Висновок

У мові C# всі типи даних мають загальну ієрархію, яка базується на класі System.Object. Це означає, що кожен тип є
об'єктом і має доступ до методів базового класу Object. Операція new відіграє ключову роль у створенні об'єктів
посилальних типів, забезпечуючи виділення пам'яті для об'єктів у купі та їх ініціалізацію.

Знання ієрархії класів та принципів роботи з ключовим словом new є основоположними для розуміння механізмів створення
об'єктів та управління пам'яттю в C#.

### Питання для самоперевірки:

1. Що таке ієрархія класів у C# і яке місце в ній займає клас System.Object?
2. Чим відрізняються примітивні типи від посилальних типів у C#?
3. Які методи класу Object доступні для всіх типів даних у C#?
4. Що робить ключове слово new і для чого його використовують у C#?
5. Чим відрізняється створення об'єкта класу від створення примітивного типу в контексті використання new?
