# Використання параметрів командного рядка

## Параметри командного рядка в C#

Параметри командного рядка в C# дозволяють передавати в програму вхідні дані під час її запуску. Це зручно, коли потрібно змінити поведінку програми або передати вхідні дані без редагування коду. Передані значення можуть бути використані для налаштування параметрів, передачі вхідних файлів або визначення режиму роботи програми.

## Що таке параметри командного рядка?

Параметри командного рядка — це рядкові значення, які користувач передає програмі під час її запуску. Вони потрапляють до програми у вигляді масиву рядків (`string[]`), доступного в методі `Main`. Кожен аргумент є окремим елементом масиву.

### Приклад запуску програми з параметрами:

```bash
Program.exe arg1 arg2 arg3
```

## Метод Main з параметрами

Для роботи з параметрами командного рядка, метод `Main` у програмі оголошується з параметром типу `string[] args`, де `args` — це масив рядків, що містить усі передані аргументи.

### Оголошення методу Main:

```csharp
static void Main(string[] args)
{
    // Код для обробки аргументів
}
```

### Приклад обробки аргументів командного рядка:

```csharp
static void Main(string[] args)
{
    Console.WriteLine("Number of arguments: " + args.Length);

    for (int i = 0; i < args.Length; i++)
    {
        Console.WriteLine($"Argument {i}: {args[i]}");
    }
}
```

Якщо запустити програму із трьома аргументами:

```csharp
Program.exe hello 123 world
```

Програма виведе:

```yaml
Number of arguments: 3
Argument 0: hello
Argument 1: 123
Argument 2: world
```

## Перевірка кількості параметрів

Перед обробкою аргументів командного рядка варто перевіряти їх кількість, щоб уникнути доступу до неіснуючих елементів масиву.

### Приклад перевірки кількості параметрів:

```csharp 
static void Main(string[] args)
{
    if (args.Length == 0)
    {
        Console.WriteLine("No arguments provided.");
    }
    else
    {
        Console.WriteLine("Arguments provided:");
        foreach (string arg in args)
        {
            Console.WriteLine(arg);
        }
    }
}
```

## Перетворення аргументів командного рядка

Аргументи командного рядка завжди передаються як рядки, тому для використання їх як числові або інші типи потрібно здійснити конвертацію.

### Приклад конвертації рядків у числа:

```csharp
static void Main(string[] args)
{
    if (args.Length == 2)
    {
        int num1 = int.Parse(args[0]);
        int num2 = int.Parse(args[1]);
        int sum = num1 + num2;

        Console.WriteLine($"Sum: {sum}");
    }
    else
    {
        Console.WriteLine("Please provide exactly two numeric arguments.");
    }
}
```

Якщо передати два числові аргументи під час запуску:

```bash
Program.exe 10 20
```

Програма виведе:

```yaml
Sum: 30
```

## Обробка помилок

При перетворенні рядків у числові типи може виникнути помилка (наприклад, при введенні нечислового значення). Для запобігання аварійного завершення програми слід використовувати конструкції `try-catch`.

### Приклад обробки помилок:

```csharp
static void Main(string[] args)
{
    if (args.Length == 2)
    {
        try
        {
            int num1 = int.Parse(args[0]);
            int num2 = int.Parse(args[1]);
            int sum = num1 + num2;
            Console.WriteLine($"Sum: {sum}");
        }
        catch (FormatException)
        {
            Console.WriteLine("Please enter valid numbers.");
        }
    }
    else
    {
        Console.WriteLine("Please provide exactly two numeric arguments.");
    }
}
```

## Реальні приклади використання

Параметри командного рядка широко використовуються в багатьох програмах для:

- Конфігурації режимів роботи (наприклад, запуск у режимі відлагодження або релізу).
- Передачі вхідних файлів або інших даних, таких як налаштування під час запуску.
- Виконання різних завдань на основі введених аргументів (наприклад, обробка різних типів даних або робота з файлами).

### Приклад реального використання:

```csharp
static void Main(string[] args)
{
    if (args.Length == 1)
    {
        string filePath = args[0];
        if (File.Exists(filePath))
        {
            string content = File.ReadAllText(filePath);
            Console.WriteLine("File content:");
            Console.WriteLine(content);
        }
        else
        {
            Console.WriteLine("File does not exist.");
        }
    }
    else
    {
        Console.WriteLine("Please provide a file path.");
    }
}
```

Ця програма приймає шлях до файлу як параметр і виводить його вміст на екран.

---

## Питання для самоперевірки

1. Як передаються параметри командного рядка в програмі на C#?
2. Що відбувається, якщо програмі не передано жодного аргументу під час запуску?
3. Як обробити нечисловий аргумент, який програма очікує як число?
4. Які переваги надають параметри командного рядка для конфігурації програм?
